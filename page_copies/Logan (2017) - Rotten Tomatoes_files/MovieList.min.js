define(["backbone","bootstrap"],function(t){return t.View.extend({initialize:function(t){this.options=t||{},t&&!t.bind||_.bindAll(this),this.options.scrollOnly||($(this.el).find(".movie_list").off("mouseup","tr"),$(document).bind("keydown",this.navigate),this.model.bind("change:movieVanity",this.render),this.render()),this.headerBottom=t.headerBottom,this.footerTop=t.footerTop,this.lockedPosition=$("#main_movie_sidebar_content").height()*-1+40,this.isTvPage=t.isTvPage,this.isTvPage?(this.startPos=$("#movies_sidebar>.panel-rt").offset().top+32,$(window).scroll(function(){this.onTvScroll()}.bind(this)),this.onTvScroll()):(this.startPos=$("#movies_sidebar>.panel-rt").offset().top-61,$(window).scroll(function(){this.onScroll()}.bind(this)),this.onScroll())},events:{"click .movie_list tr a":"navigateClick","touchstart .movie_list tr":"navigateClick","mouseup .movie_list tr":"navigateClick","click .showMoreItems":"showMore"},onTvScroll:function(){var t=$(window).scrollTop();$("#movieListColumn").css("height",$("#mainColumn").height());var i=$("#mainColumn").height()+this.startPos-$("#movies_sidebar").height(),e=0;$("#super").height()>0&&(e=$("#super").height()),t<=this.startPos+e-$("#top_leaderboard_wrapper").height()?this.$el.removeAttr("style"):t>i?this.$el.css({position:"absolute",bottom:"0",top:"auto"}):t<520?($("#medrec_top_ad").show(),this.$el.css({position:"fixed",top:$("#top_leaderboard_wrapper").height()})):($("#medrec_top_ad").slideUp("slow"),this.$el.css({position:"fixed",top:"0px"}))},onScroll:function(){var t=$(window).scrollTop();$("#movieListColumn").css("height",$("#mainColumn").height());var i=$("#mainColumn").height()+this.startPos-$("#movies_sidebar").height(),e=0;$("#super").height()>0&&(e=$("#super").height()),t<=this.startPos+e?this.$el.removeAttr("style"):t>i+e?this.$el.css({position:"absolute",bottom:"0",top:"auto"}):this.$el.css({position:"fixed",top:this.lockedPosition})},showMore:function(t){var i=$(t.currentTarget);$("."+i.data("show"),this.$el).show(),i.hide(),i.siblings("showAll").length>0&&i.siblings("showAll").show()},navigateClick:function(t){switch(t.which){case 1:var i=$(t.currentTarget).find("a").addBack().filter("a").attr("href");t.preventDefault(),window.location.href=i}},navigateKey:function(i){var e=$(".movie-list-selected",this.el),o=$(".movie_list tr",this.el),s=o.index(e);if(37==i.keyCode){if(s>0){var a=$(o).eq(s-1).find("a").attr("href");t.history.navigate(a,!0)}i.preventDefault()}else if(39==i.keyCode){var a=$(o).eq(s+1).find("a").attr("href");null!=a&&t.history.navigate(a,!0),i.preventDefault()}},render:function(){var t=this.el,i=this.model;$(t).find("tr").removeClass("movie-list-selected");var e=$("[href='/m/"+i.get("movieVanity")+"/']",t);e.parents("tr").addClass("movie-list-selected");var o=e.parents(".tab-pane"),s=o.attr("id");o.hasClass("active")||$(".nav-tabs a[href=#"+s+"]",t).tab("show")}})});
//# sourceMappingURL=MovieList.min.js.map