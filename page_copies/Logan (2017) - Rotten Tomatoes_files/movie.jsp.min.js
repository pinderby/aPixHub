define(["globals","jquery","underscore","js-cookie","location-utils","friend-ratings"],function(e,t,i,o,n,s){return function(o,a,l,r,m){var c=function(e,t){var i=new e(t);return i.render(),i};!function(){t("#heroImageContainer .playButton").addClass("in"),t(".ratingButton").click(function(){t("html, body").animate({scrollTop:t("#rating_widget").offset().top-t(window).height()/2},1e3)})}(),function(){require([e.StaticHost+"/static/dist/jspjs/modalTrailer.jsp.min.js"],function(e){new e({el:t("body"),vanity:o})})}(),function(){require([e.StaticHost+"/static/dist/app/views/MovieList.min.js"],function(e){new e({el:t("#movies_sidebar"),scrollOnly:!0,headerBottom:function(){return t("#main_container").offset().top+10},footerTop:function(){return t(".sleaderboard_wrapper").offset().top},options:!1})})}(),function(){var o=function(o){o.length>0?require([e.StaticHost+"/static/dist/app/views/RecommendationView.min.js","slick"],function(e){var n=c(e.RecommendationPanel,{collection:o,RecommendationTemplate:i.template(t("script.RecommendationItemTemplate").html())});t("#recommendation .recommendationContainer").html(n.$el),t("#recommendation .recommendationContainer .recPanel").on("init",function(){t("#recommendation").css({visibility:"visible",height:""})}),t("#recommendation .recommendationContainer .recPanel").slick({lazyLoad:"ondemand",slidesToShow:5,slidesToScroll:5,draggable:!0,infinite:!0,responsive:[{breakpoint:728,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:610,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:375,settings:{slidesToShow:2,slidesToScroll:2}}]})}):t("#recommendation").remove()};require([e.StaticHost+"/static/dist/app/models/RecommendationModel.min.js"],function(e){var t=new e.RecommendationModelItems({movieId:a});t.fetch({success:o.bind(this,t)})})}(),function(){var o,s={requestTheaterDataFromServer:function(n,s,c){n?require([e.StaticHost+"/static/dist/app/models/ShowtimesModel.min.js",e.StaticHost+"/static/dist/app/views/MovieShowtimesView.min.js",e.StaticHost+"/static/dist/app/views/ShowtimesView.min.js"],function(e,d,h){var w={date:l,deviceType:"RTO",fullMovieInfo:!0,limit:1,movie:a,showtimes:!0,vanityPlatform:"RTO",latitude:s,longitude:c},u=new e.TheaterData;u.fetch({data:w}).then(function(){u&&(u.attributes.hasOwnProperty("traits")?(o=new d.ShowtimesView({controller:this,isReleased:r,model:u,movieId:a,MovieShowtimesTemplate:i.template(t("script.MovieShowtimesTemplate").html()),ShowtimesView:h,showtimeDate:l,zipcode:n}),o.render(),t("#showtimes .showtimesContainer").html(o.$el)):(t("#showtimes .showtimesContainer").html(i.template(t("script.NoShowtimesTemplate").html())()+i.template(t("script.ChangeShowtimesTemplate").html())({movieTitle:m,noShowtimes:!0})),o=new d.LocationPicker({el:t("#showtimes .showtimesContainer"),controller:this,isReleased:r,showtimeDate:l,zipcode:null})))}.bind(this))}.bind(this)):(t("#showtimes .showtimesContainer").html(i.template(t("script.NoShowtimesTemplate").html())()+i.template(t("script.ChangeShowtimesTemplate").html())({movieTitle:m,noShowtimes:!0})),o=new MovieShowtimesView.LocationPicker({el:t("#showtimes .showtimesContainer"),controller:this,isReleased:r,showtimeDate:"theaterReleaseDate",zipcode:null}))},getShowtimes:function(){n.getLocation().then(function(e){s.requestTheaterDataFromServer(e.displayName,e.latitude,e.longitude)})},onChangeLocation:function(){t("#showtimes .showtimesContainer").html(i.template(t("script.ChangeShowtimesTemplate").html())({movieTitle:m,noShowtimes:!1})),t("#showtimes .showtimesContainer .goBack").click(function(){n.getLocation().then(function(e){s.requestTheaterDataFromServer(e.displayName,e.latitude,e.longitude)})}.bind(this)),require([e.StaticHost+"/static/dist/app/views/MovieShowtimesView.min.js"],function(e){new e.LocationPicker({controller:this,el:t("#showtimes .showtimesContainer"),isReleased:r,showtimeDate:"theaterReleaseDate"})}.bind(this))},onLocationUpdated:function(e){n.saveLocationPlaceId(e.placeId),s.requestTheaterDataFromServer(e.displayName,e.latitude,e.longitude)}};s.getShowtimes()}(),e.loginInit.always(function(){e.loginModel.addOneSignInCallback(function(){s(document.getElementById("friend-reviews-root"),a)}),e.loginModel.addOneSignInFailCallback(function(){t("#friend-reviews-root").hide()}),e.loginModel.addOneSignInCallback(function(e){e&&e.isCritic&&t("#critics-add-article").show()})})}});
//# sourceMappingURL=movie.jsp.min.js.map